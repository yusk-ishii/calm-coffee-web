---
import { Image } from 'astro:assets';
import catchPhrase from '@assets/fv_catch-phrase.svg';
import Logo from '@components/Logo.astro';
import LogoType from '@components/LogoType.astro';
---

<section id="top" class="fv">
  <div class="fv-visual">
    <div class="fv-visual-inner">
      <span class="logo-type">
        <LogoType color="#fff" />
      </span>
      <canvas id="fv-visual-slider"></canvas>
    </div>
  </div>
  <div class="fv-content">
    <span class="logo">
      <Logo />
    </span>
    <h1 class="catchphrase">
      <Image src={catchPhrase} alt="波と珈琲と静けさと。" loading="eager" />
    </h1>
  </div>
</section>

<style lang="scss">
  .fv {
    position: relative;
    height: var(--vh);
    min-height: 640px;
    overflow: hidden;
    overscroll-behavior: none;

    @include mq-desktop {
      display: grid;
      place-items: center;
      height: 100dvh;
    }

    &::before {
      display: block;
      height: 50%;
      content: '';

      @include mq-desktop {
        content: none;
      }
    }
  }

  .fv-visual {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;

    @include mq-desktop {
      position: fixed;
      z-index: -1;
      width: calc(100% - var(--pc-content-width));
      height: 100%;
      padding: 10px;
      background-color: color-mix(in srgb, var(--color-text) 5%, transparent);
    }
  }

  .fv-visual-inner {
    width: 100%;
    height: 100%;
    overflow: hidden;
    animation: blur-in 2s both var(--ease-out-sine);

    @include mq-desktop {
      border-radius: 8px;
    }
  }

  #fv-visual-slider {
    width: 100%;
    height: 100%;
    opacity: 0;
    animation: blur-in 2s 1.6s both var(--ease-out-sine);
  }

  .fv-content {
    height: 50%;
    animation: blur-in 2s 1.6s both var(--ease-out-sine);

    @include mq-desktop {
      height: auto;
      margin-bottom: 24px;
    }
  }

  .logo {
    display: none;

    @include mq-desktop {
      display: block;
      width: 260px;
    }
  }

  .logo-type {
    position: absolute;
    top: clamp-size(24);
    left: clamp-size(24);
    z-index: 1;
    width: clamp-size(138);

    > img {
      width: 100%;
      height: auto;
    }

    @include mq-desktop {
      display: none;
    }
  }

  .catchphrase {
    display: grid;
    place-items: center;
    width: 100%;
    height: 100%;

    @include mq-desktop {
      margin-top: 48px;
    }

    img {
      width: clamp-size(82);
    }
  }
</style>
